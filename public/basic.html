<html>
<head> 
  <script src='./bower_components/web3/dist/web3.js'></script>
  <script src='./bower_components/web3/dist/web3.min.js'></script>
</head>
<body>
    <form>
        Enter data : <input id="name" type="text">
        <br> <input id="submitbutton" type="submit" value="submit">
	</form>
	<script>
	
		//-------------------------------
	console.log("web3="+web3);
		if (typeof web3 !== 'undefined') {
	var web3 = new Web3(web3.currentProvider);
	
	if(web3.currentProvider.isMetaMask)
	console.log('-------MetaMask Login-----------');
	console.log('Web3 Detected! ' + web3.currentProvider.constructor.name);
  } else {
	  
	console.log('No Web3 Detected... using HTTP Provider');
		web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'));
		console.log("local connected");

  }
  		console.log("web3.version.api="+web3.version.api);
		  web3.eth.defaultAccount = web3.eth.accounts[0];
				console.log("Default Account is ="+web3.eth.defaultAccount+"\n");
               console.log(web3.eth.getBalance(web3.eth.defaultAccount,web3.eth.defaultBlock,function(error,result){
           // Convert the balance to ethers
            var bal = web3.fromWei(result,'ether').toFixed(2);
			console.log("Balance is "+bal);
		}
	));
		  //----------------sending transaction from one account to another account:
            web3.eth.sendTransaction(
				{from:web3.eth.accounts[0],
				to:web3.eth.accounts[1],
				value:web3.toWei(10,'finney'),
				gas:'41000',
				data:web3.toHex('Akansha is sending you ethers')},function(error, result){
     if(!error)
         console.log(result)
     else
         console.error(error);
 });

				// Previous if/else statement removed for brevity
		
				
				//copying Abi value from  contract
	var spcontract=web3.eth.contract([
	{
		"constant": false,
		"inputs": [
			{
				"name": "y",
				"type": "uint256"
			}
		],
		"name": "set",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "get",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
]);
console.log("spContract="+ spcontract);
	var spCo=spcontract.at('0xcac781e16c8de0121bbef493a6a919c75b14fb2f');
	var gas=40000;
	console.log("spContract.set(40)---------"+spCo.set(140,{from:web3.eth.defaultAccount,gas:gas},function(error, result){
     if(!error)
         console.log("result of set method  is "+result)
     else
         console.error(error);
 }));
     console.log("--------Gettingvalue="+spCo.get({from:web3.eth.defaultAccount,gas:gas},function(error, result){
     if(!error)
     console.log("result of get method is "+result)
     else
         console.error(error);
 }));









// //------------------------


// var compiled = web3.eth.compile.solidity(source);

// console.log('compiled succesfully');

// var code = compiled.code;
// //console.log("code="+code);
// //var abi=compiled.abi;
// var abi =compiled.abi;
// //console.log("abi="+abi);

// // var check=web3.eth.Contract(abi).at('0xa8228b6C1E1a859b80E4d5Cd0034C6Eb7a22142f');
// // console.log(check);

// console.log("Default Account is ="+web3.eth.accounts[0]+"\n");

// //console.log("Default Account is ="+web3.eth.accounts[0]+"\n");

// var myContract = new web3.eth.Contract(abi, {
//   from: "0xa8228b6C1E1a859b80E4d5Cd0034C6Eb7a22142f", data: code}, 
//     function (err, contract) {
//      if (!err && contract.address)
//         console.log("deployed on:", contract.address);
//      });
// // web3.eth.contract(abi,
// //   {from: "0xa8228b6C1E1a859b80E4d5Cd0034C6Eb7a22142f", data: code}, 
// //   function (err, contract) {
// //    if (!err && contract.address)
// //       console.log("deployed on:", contract.address);
// //    }
// // );
//-------------------
//copy address of getHah
//		var spContract=spcontract.at('0x38fdb90567c54c00853a06c673b74f41bce9c526');
//	console.log("spContract="+spContract)+"\n";
	
	//spContract.set(7257652);
	
	
			</script>














		
<body>
</html>
